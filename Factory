// Interface
interface Payment {
    void pay();
}


//N number or implementtations
class CardPayment implements Payment {
    public void pay() {
        System.out.println("Card payment");
    }
}

class UpiPayment implements Payment {
    public void pay() {
        System.out.println("UPI payment");
    }
}

//Factory Class
import java.util.HashMap;
import java.util.Map;
import java.util.function.Supplier;

class PaymentFactory {

    private static final Map<String, Supplier<Payment>> MAP = new HashMap<>();

    static {
        MAP.put("CARD", CardPayment::new);
        MAP.put("UPI", UpiPayment::new);
    }

    public static Payment getPayment(String type) {
        Supplier<Payment> supplier = MAP.get(type.toUpperCase());
        if (supplier == null) {
            throw new IllegalArgumentException("Invalid payment type");
        }
        return supplier.get();
    }
}


//Main class
public class Main {
    public static void main(String[] args) {
        Payment p = PaymentFactory.getPayment("UPI");
        p.pay();
    }
}
